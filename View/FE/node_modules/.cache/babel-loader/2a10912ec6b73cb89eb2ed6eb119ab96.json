{"ast":null,"code":"var __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spread = this && this.__spread || function () {\n  for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n\n  return ar;\n};\n\nimport React, { useContext, useEffect, useMemo, useState } from \"react\";\nimport { MapContext } from \"../ReactBingMap\";\nimport MarkerPathAnimationManager from \"../helpers/MarkerPathAnimationManager\";\nimport addHandlers from \"../helpers/addHandlers\";\nexport var LayerContext = React.createContext({\n  layer: null,\n  entities: []\n});\n\nvar Layer = function (_a) {\n  var id = _a.id,\n      _b = _a.animationDuration,\n      animationDuration = _b === void 0 ? 0 : _b,\n      onClick = _a.onClick,\n      onDoubleClick = _a.onDoubleClick,\n      onMouseDown = _a.onMouseDown,\n      onMouseOut = _a.onMouseOut,\n      onMouseOver = _a.onMouseOver,\n      onMouseUp = _a.onMouseUp,\n      onRightClick = _a.onRightClick,\n      onClickThrottleMs = _a.onClickThrottleMs,\n      onDoubleClickThrottleMs = _a.onDoubleClickThrottleMs,\n      onMouseDownThrottleMs = _a.onMouseDownThrottleMs,\n      onMouseOutThrottleMs = _a.onMouseOutThrottleMs,\n      onMouseOverThrottleMs = _a.onMouseOverThrottleMs,\n      onMouseUpThrottleMs = _a.onMouseUpThrottleMs,\n      onRightClickThrottleMs = _a.onRightClickThrottleMs,\n      children = _a.children;\n  var map = useContext(MapContext);\n\n  var _c = __read(useState([]), 2),\n      entities = _c[0],\n      setEntities = _c[1];\n\n  var context = useMemo(function () {\n    var newEntities = __spread(entities);\n\n    Object.defineProperty(newEntities, \"add\", {\n      value: function (e) {\n        newEntities.push(e);\n        setEntities(newEntities);\n      },\n      enumerable: false\n    });\n    Object.defineProperty(newEntities, \"remove\", {\n      value: function (e) {\n        newEntities.splice(newEntities.findIndex(function (entity) {\n          return entity === e;\n        }), 1);\n        setEntities(newEntities);\n      },\n      enumerable: false\n    });\n    return {\n      layer: new window.Microsoft.Maps.Layer(id),\n      entities: newEntities\n    };\n  }, [entities]);\n  useEffect(function () {\n    var layer = context.layer;\n    addHandlers({\n      target: layer,\n      map: map,\n      handlers: [{\n        eventName: \"click\",\n        handler: onClick,\n        throttleMs: onClickThrottleMs\n      }, {\n        eventName: \"dblclick\",\n        handler: onDoubleClick,\n        throttleMs: onDoubleClickThrottleMs\n      }, {\n        eventName: \"mousedown\",\n        handler: onMouseDown,\n        throttleMs: onMouseDownThrottleMs\n      }, {\n        eventName: \"mouseout\",\n        handler: onMouseOut,\n        throttleMs: onMouseOutThrottleMs\n      }, {\n        eventName: \"mouseover\",\n        handler: onMouseOver,\n        throttleMs: onMouseOverThrottleMs\n      }, {\n        eventName: \"mouseup\",\n        handler: onMouseUp,\n        throttleMs: onMouseUpThrottleMs\n      }, {\n        eventName: \"rightclick\",\n        handler: onRightClick,\n        throttleMs: onRightClickThrottleMs\n      }]\n    });\n    map.layers.insert(layer);\n    layer.setVisible(true);\n  }, []);\n  useEffect(function () {\n    var PAM;\n\n    if (entities.length) {\n      PAM = new MarkerPathAnimationManager(entities, animationDuration);\n      PAM.start();\n    }\n\n    return function () {\n      if (PAM) {\n        PAM.stop();\n      }\n    };\n  }, [entities]);\n  return React.createElement(LayerContext.Provider, {\n    value: context\n  }, children);\n};\n\nexport default React.memo(Layer);","map":{"version":3,"names":["__read","o","n","m","Symbol","iterator","i","call","r","ar","e","next","done","push","value","error","__spread","arguments","length","concat","React","useContext","useEffect","useMemo","useState","MapContext","MarkerPathAnimationManager","addHandlers","LayerContext","createContext","layer","entities","Layer","_a","id","_b","animationDuration","onClick","onDoubleClick","onMouseDown","onMouseOut","onMouseOver","onMouseUp","onRightClick","onClickThrottleMs","onDoubleClickThrottleMs","onMouseDownThrottleMs","onMouseOutThrottleMs","onMouseOverThrottleMs","onMouseUpThrottleMs","onRightClickThrottleMs","children","map","_c","setEntities","context","newEntities","Object","defineProperty","enumerable","splice","findIndex","entity","window","Microsoft","Maps","target","handlers","eventName","handler","throttleMs","layers","insert","setVisible","PAM","start","stop","createElement","Provider","memo"],"sources":["C:/Users/hwiesel/Desktop/לימודים/realTimeFlights/View/FE/node_modules/@3acaga/react-bing-maps/dist/components/Layer.js"],"sourcesContent":["var __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spread = (this && this.__spread) || function () {\r\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n};\r\nimport React, { useContext, useEffect, useMemo, useState } from \"react\";\r\nimport { MapContext } from \"../ReactBingMap\";\r\nimport MarkerPathAnimationManager from \"../helpers/MarkerPathAnimationManager\";\r\nimport addHandlers from \"../helpers/addHandlers\";\r\nexport var LayerContext = React.createContext({\r\n    layer: null,\r\n    entities: []\r\n});\r\nvar Layer = function (_a) {\r\n    var id = _a.id, _b = _a.animationDuration, animationDuration = _b === void 0 ? 0 : _b, onClick = _a.onClick, onDoubleClick = _a.onDoubleClick, onMouseDown = _a.onMouseDown, onMouseOut = _a.onMouseOut, onMouseOver = _a.onMouseOver, onMouseUp = _a.onMouseUp, onRightClick = _a.onRightClick, onClickThrottleMs = _a.onClickThrottleMs, onDoubleClickThrottleMs = _a.onDoubleClickThrottleMs, onMouseDownThrottleMs = _a.onMouseDownThrottleMs, onMouseOutThrottleMs = _a.onMouseOutThrottleMs, onMouseOverThrottleMs = _a.onMouseOverThrottleMs, onMouseUpThrottleMs = _a.onMouseUpThrottleMs, onRightClickThrottleMs = _a.onRightClickThrottleMs, children = _a.children;\r\n    var map = useContext(MapContext);\r\n    var _c = __read(useState([]), 2), entities = _c[0], setEntities = _c[1];\r\n    var context = useMemo(function () {\r\n        var newEntities = __spread(entities);\r\n        Object.defineProperty(newEntities, \"add\", {\r\n            value: function (e) {\r\n                newEntities.push(e);\r\n                setEntities(newEntities);\r\n            },\r\n            enumerable: false\r\n        });\r\n        Object.defineProperty(newEntities, \"remove\", {\r\n            value: function (e) {\r\n                newEntities.splice(newEntities.findIndex(function (entity) { return entity === e; }), 1);\r\n                setEntities(newEntities);\r\n            },\r\n            enumerable: false\r\n        });\r\n        return {\r\n            layer: new window.Microsoft.Maps.Layer(id),\r\n            entities: newEntities\r\n        };\r\n    }, [entities]);\r\n    useEffect(function () {\r\n        var layer = context.layer;\r\n        addHandlers({\r\n            target: layer,\r\n            map: map,\r\n            handlers: [\r\n                { eventName: \"click\", handler: onClick, throttleMs: onClickThrottleMs },\r\n                {\r\n                    eventName: \"dblclick\",\r\n                    handler: onDoubleClick,\r\n                    throttleMs: onDoubleClickThrottleMs\r\n                },\r\n                {\r\n                    eventName: \"mousedown\",\r\n                    handler: onMouseDown,\r\n                    throttleMs: onMouseDownThrottleMs\r\n                },\r\n                {\r\n                    eventName: \"mouseout\",\r\n                    handler: onMouseOut,\r\n                    throttleMs: onMouseOutThrottleMs\r\n                },\r\n                {\r\n                    eventName: \"mouseover\",\r\n                    handler: onMouseOver,\r\n                    throttleMs: onMouseOverThrottleMs\r\n                },\r\n                {\r\n                    eventName: \"mouseup\",\r\n                    handler: onMouseUp,\r\n                    throttleMs: onMouseUpThrottleMs\r\n                },\r\n                {\r\n                    eventName: \"rightclick\",\r\n                    handler: onRightClick,\r\n                    throttleMs: onRightClickThrottleMs\r\n                }\r\n            ]\r\n        });\r\n        map.layers.insert(layer);\r\n        layer.setVisible(true);\r\n    }, []);\r\n    useEffect(function () {\r\n        var PAM;\r\n        if (entities.length) {\r\n            PAM = new MarkerPathAnimationManager(entities, animationDuration);\r\n            PAM.start();\r\n        }\r\n        return function () {\r\n            if (PAM) {\r\n                PAM.stop();\r\n            }\r\n        };\r\n    }, [entities]);\r\n    return (React.createElement(LayerContext.Provider, { value: context }, children));\r\n};\r\nexport default React.memo(Layer);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}