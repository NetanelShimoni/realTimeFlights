{"ast":null,"code":"var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function () {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n\n        case 7:\n          op = _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n\n            _.ops.push(op);\n\n            break;\n          }\n\n          if (t[2]) _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n      }\n\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar MarkerPathAnimationManager =\n/** @class */\nfunction () {\n  function MarkerPathAnimationManager(entities, animationDuration) {\n    var _this = this;\n\n    this.isRunning = false;\n\n    this.animate = function (level) {\n      return _this.entities.reduce(function (acc, ent) {\n        if (ent.level === level && ent.startAnimation) {\n          acc.push(ent.startAnimation(_this.timeParts[level]));\n        }\n\n        return acc;\n      }, []);\n    };\n\n    this.start = function () {\n      return __awaiter(_this, void 0, void 0, function () {\n        var i;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              this.isRunning = true;\n              _a.label = 1;\n\n            case 1:\n              if (!this.isRunning) return [3\n              /*break*/\n              , 6];\n              i = 0;\n              _a.label = 2;\n\n            case 2:\n              if (!(i < this.lvlMax + Math.abs(this.lvlMin) + 1)) return [3\n              /*break*/\n              , 5];\n              return [4\n              /*yield*/\n              , Promise.all(this.animate(this.lvlMin + i))];\n\n            case 3:\n              _a.sent();\n\n              _a.label = 4;\n\n            case 4:\n              i++;\n              return [3\n              /*break*/\n              , 2];\n\n            case 5:\n              return [3\n              /*break*/\n              , 1];\n\n            case 6:\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    };\n\n    this.entities = entities;\n\n    var _a = this.entities.reduce(function (acc, ent) {\n      acc.lvlMin = acc.lvlMin > ent.level ? ent.level : acc.lvlMin;\n      acc.lvlMax = acc.lvlMax < ent.level ? ent.level : acc.lvlMax;\n      acc.lengths[ent.level] = acc.lengths[ent.level] > ent.length ? acc.lengths[ent.level] : ent.length;\n      return acc;\n    }, {\n      lvlMin: Number.MAX_VALUE,\n      lvlMax: Number.MIN_VALUE,\n      lengths: {}\n    }),\n        lvlMin = _a.lvlMin,\n        lvlMax = _a.lvlMax,\n        lengths = _a.lengths;\n\n    var fullLength = Object.values(lengths).reduce(function (acc, cur) {\n      return acc + cur;\n    });\n    var paths = Object.entries(lengths).sort(function (a, b) {\n      return b[1] - a[1];\n    });\n\n    var _b = __read(paths[0], 2),\n        maxPathLevel = _b[0],\n        maxPath = _b[1];\n\n    var restPaths = 1;\n    var delta = 0;\n\n    if (maxPath / fullLength > 0.75) {\n      var tempMax = maxPath;\n      restPaths = paths.slice(1).reduce(function (acc, cur) {\n        return acc + cur[1];\n      }, 0);\n      delta = tempMax - 0.7 * fullLength;\n    }\n\n    var timeParts = Object.entries(lengths).reduce(function (acc, _a) {\n      var _b = __read(_a, 2),\n          key = _b[0],\n          len = _b[1];\n\n      if (key === maxPathLevel) {\n        acc[key] = animationDuration * (len - delta) / fullLength;\n      } else {\n        acc[key] = animationDuration * (len / restPaths * delta) / fullLength;\n      }\n\n      return acc;\n    }, {});\n    this.lvlMin = lvlMin;\n    this.lvlMax = lvlMax;\n    this.timeParts = timeParts;\n  }\n\n  MarkerPathAnimationManager.prototype.stop = function () {\n    this.isRunning = false;\n  };\n\n  return MarkerPathAnimationManager;\n}();\n\nexport default MarkerPathAnimationManager;","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","__read","o","m","i","r","ar","error","MarkerPathAnimationManager","entities","animationDuration","_this","isRunning","animate","level","reduce","acc","ent","startAnimation","timeParts","start","_a","lvlMax","Math","abs","lvlMin","all","lengths","Number","MAX_VALUE","MIN_VALUE","fullLength","Object","values","cur","paths","entries","sort","a","b","_b","maxPathLevel","maxPath","restPaths","delta","tempMax","slice","key","len","prototype","stop"],"sources":["C:/Users/user/Desktop/realTimeFlights/View/FE/node_modules/@3acaga/react-bing-maps/dist/helpers/MarkerPathAnimationManager.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar MarkerPathAnimationManager = /** @class */ (function () {\n    function MarkerPathAnimationManager(entities, animationDuration) {\n        var _this = this;\n        this.isRunning = false;\n        this.animate = function (level) {\n            return _this.entities.reduce(function (acc, ent) {\n                if (ent.level === level && ent.startAnimation) {\n                    acc.push(ent.startAnimation(_this.timeParts[level]));\n                }\n                return acc;\n            }, []);\n        };\n        this.start = function () { return __awaiter(_this, void 0, void 0, function () {\n            var i;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.isRunning = true;\n                        _a.label = 1;\n                    case 1:\n                        if (!this.isRunning) return [3 /*break*/, 6];\n                        i = 0;\n                        _a.label = 2;\n                    case 2:\n                        if (!(i < this.lvlMax + Math.abs(this.lvlMin) + 1)) return [3 /*break*/, 5];\n                        return [4 /*yield*/, Promise.all(this.animate(this.lvlMin + i))];\n                    case 3:\n                        _a.sent();\n                        _a.label = 4;\n                    case 4:\n                        i++;\n                        return [3 /*break*/, 2];\n                    case 5: return [3 /*break*/, 1];\n                    case 6: return [2 /*return*/];\n                }\n            });\n        }); };\n        this.entities = entities;\n        var _a = this.entities.reduce(function (acc, ent) {\n            acc.lvlMin = acc.lvlMin > ent.level ? ent.level : acc.lvlMin;\n            acc.lvlMax = acc.lvlMax < ent.level ? ent.level : acc.lvlMax;\n            acc.lengths[ent.level] =\n                acc.lengths[ent.level] > ent.length\n                    ? acc.lengths[ent.level]\n                    : ent.length;\n            return acc;\n        }, { lvlMin: Number.MAX_VALUE, lvlMax: Number.MIN_VALUE, lengths: {} }), lvlMin = _a.lvlMin, lvlMax = _a.lvlMax, lengths = _a.lengths;\n        var fullLength = Object.values(lengths).reduce(function (acc, cur) { return acc + cur; });\n        var paths = Object.entries(lengths).sort(function (a, b) { return b[1] - a[1]; });\n        var _b = __read(paths[0], 2), maxPathLevel = _b[0], maxPath = _b[1];\n        var restPaths = 1;\n        var delta = 0;\n        if (maxPath / fullLength > 0.75) {\n            var tempMax = maxPath;\n            restPaths = paths.slice(1).reduce(function (acc, cur) { return acc + cur[1]; }, 0);\n            delta = tempMax - 0.7 * fullLength;\n        }\n        var timeParts = Object.entries(lengths).reduce(function (acc, _a) {\n            var _b = __read(_a, 2), key = _b[0], len = _b[1];\n            if (key === maxPathLevel) {\n                acc[key] = (animationDuration * (len - delta)) / fullLength;\n            }\n            else {\n                acc[key] =\n                    (animationDuration * ((len / restPaths) * delta)) / fullLength;\n            }\n            return acc;\n        }, {});\n        this.lvlMin = lvlMin;\n        this.lvlMax = lvlMax;\n        this.timeParts = timeParts;\n    }\n    MarkerPathAnimationManager.prototype.stop = function () {\n        this.isRunning = false;\n    };\n    return MarkerPathAnimationManager;\n}());\nexport default MarkerPathAnimationManager;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}